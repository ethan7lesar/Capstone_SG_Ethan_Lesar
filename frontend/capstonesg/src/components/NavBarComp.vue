<template>
  <nav class="flex bg-background sticky top-0 p-[20px] bg-opacity-80">
    <div class="logo">
      <svg
        width="161"
        height="40"
        viewBox="0 0 161 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M20 40C31.0458 40 40 31.0457 40 20C40 8.9543 31.0458 0 20 0C8.95429 0 0 8.9543 0 20C0 31.0457 8.95429 40 20 40ZM23.087 15.4526C24.7918 13.7477 24.7918 10.9836 23.087 9.27866C21.3821 7.57378 18.618 7.57378 16.9131 9.27866C15.2083 10.9836 15.2083 13.7477 16.9131 15.4526L20 18.5395L23.087 15.4526ZM24.5475 23.087C26.2524 24.7919 29.0165 24.7919 30.7214 23.087C32.4262 21.3821 32.4262 18.618 30.7214 16.9131C29.0165 15.2083 26.2524 15.2083 24.5475 16.9131L21.4606 20.0001L24.5475 23.087ZM23.087 30.7214C24.7918 29.0165 24.7918 26.2524 23.087 24.5475L20 21.4606L16.9131 24.5475C15.2083 26.2524 15.2083 29.0165 16.9131 30.7214C18.618 32.4263 21.3821 32.4263 23.087 30.7214ZM9.27863 23.087C7.57379 21.3821 7.57379 18.618 9.27863 16.9131C10.9836 15.2083 13.7477 15.2083 15.4526 16.9131L18.5395 20.0001L15.4526 23.087C13.7477 24.7919 10.9836 24.7919 9.27863 23.087Z"
          fill="#F6EA00"
        />
        <path
          d="M53.534 13.4C55.118 13.4 56.42 13.724 57.44 14.372C58.46 15.008 58.982 15.956 59.006 17.216V17.432H55.28V17.36C55.28 17 55.148 16.7 54.884 16.46C54.62 16.22 54.218 16.1 53.678 16.1C53.15 16.1 52.742 16.178 52.454 16.334C52.178 16.49 52.04 16.682 52.04 16.91C52.04 17.234 52.232 17.474 52.616 17.63C53 17.786 53.618 17.948 54.47 18.116C55.466 18.32 56.282 18.536 56.918 18.764C57.566 18.98 58.13 19.34 58.61 19.844C59.09 20.348 59.336 21.032 59.348 21.896C59.348 23.36 58.85 24.446 57.854 25.154C56.87 25.862 55.55 26.216 53.894 26.216C51.962 26.216 50.456 25.892 49.376 25.244C48.308 24.596 47.774 23.45 47.774 21.806H51.536C51.536 22.43 51.698 22.85 52.022 23.066C52.346 23.27 52.85 23.372 53.534 23.372C54.038 23.372 54.452 23.318 54.776 23.21C55.112 23.102 55.28 22.88 55.28 22.544C55.28 22.244 55.094 22.022 54.722 21.878C54.362 21.722 53.768 21.56 52.94 21.392C51.932 21.176 51.098 20.954 50.438 20.726C49.778 20.486 49.202 20.096 48.71 19.556C48.218 19.016 47.972 18.284 47.972 17.36C47.972 16.004 48.494 15.008 49.538 14.372C50.594 13.724 51.926 13.4 53.534 13.4ZM67.9642 26L67.7302 24.56C67.3582 25.076 66.8662 25.484 66.2542 25.784C65.6542 26.072 65.0182 26.216 64.3462 26.216C63.2422 26.216 62.4142 25.91 61.8622 25.298C61.3102 24.686 61.0342 23.804 61.0342 22.652V16.496H64.6162V22.22C64.6162 22.628 64.7182 22.958 64.9222 23.21C65.1382 23.45 65.4382 23.57 65.8222 23.57C66.2662 23.57 66.6262 23.426 66.9022 23.138C67.1782 22.85 67.3162 22.496 67.3162 22.076V16.496H70.8982V26H67.9642ZM73.2021 15.38V12.95H76.7841V15.38H73.2021ZM73.2021 26V16.496H76.7841V26H73.2021ZM91.5444 13.4C92.7324 13.4 93.8004 13.58 94.7484 13.94C95.6964 14.3 96.4464 14.834 96.9984 15.542C97.5624 16.238 97.8444 17.09 97.8444 18.098H94.0464C94.0464 17.582 93.8184 17.168 93.3624 16.856C92.9064 16.532 92.3544 16.37 91.7064 16.37C90.7704 16.37 90.0624 16.622 89.5824 17.126C89.1024 17.618 88.8624 18.32 88.8624 19.232V20.384C88.8624 21.296 89.1024 22.004 89.5824 22.508C90.0624 23 90.7704 23.246 91.7064 23.246C92.3544 23.246 92.9064 23.096 93.3624 22.796C93.8184 22.484 94.0464 22.088 94.0464 21.608H91.2384V19.088H97.8444V26H95.7924L95.3964 24.776C94.2684 25.736 92.7924 26.216 90.9684 26.216C88.9164 26.216 87.3744 25.682 86.3424 24.614C85.3104 23.534 84.7944 21.932 84.7944 19.808C84.7944 17.708 85.3764 16.118 86.5404 15.038C87.7164 13.946 89.3844 13.4 91.5444 13.4ZM104.973 16.28C106.713 16.28 108.039 16.688 108.951 17.504C109.875 18.32 110.337 19.568 110.337 21.248V21.86H103.209C103.209 22.544 103.359 23.06 103.659 23.408C103.971 23.756 104.457 23.93 105.117 23.93C105.717 23.93 106.155 23.804 106.431 23.552C106.719 23.3 106.863 22.964 106.863 22.544H110.337C110.337 23.696 109.899 24.596 109.023 25.244C108.147 25.892 106.869 26.216 105.189 26.216C103.425 26.216 102.057 25.808 101.085 24.992C100.113 24.164 99.6265 22.916 99.6265 21.248C99.6265 19.616 100.101 18.38 101.049 17.54C101.997 16.7 103.305 16.28 104.973 16.28ZM105.117 18.566C103.989 18.566 103.359 19.1 103.227 20.168H106.719C106.719 19.676 106.575 19.286 106.287 18.998C106.011 18.71 105.621 18.566 105.117 18.566ZM118.616 16.28C119.72 16.28 120.548 16.586 121.1 17.198C121.652 17.81 121.928 18.692 121.928 19.844V26H118.346V20.276C118.346 19.868 118.238 19.544 118.022 19.304C117.818 19.052 117.524 18.926 117.14 18.926C116.696 18.926 116.336 19.07 116.06 19.358C115.784 19.646 115.646 20 115.646 20.42V26H112.064V16.496H114.998L115.232 17.936C115.604 17.432 116.09 17.03 116.69 16.73C117.302 16.43 117.944 16.28 118.616 16.28ZM128.984 16.28C130.724 16.28 132.05 16.688 132.962 17.504C133.886 18.32 134.348 19.568 134.348 21.248V21.86H127.22C127.22 22.544 127.37 23.06 127.67 23.408C127.982 23.756 128.468 23.93 129.128 23.93C129.728 23.93 130.166 23.804 130.442 23.552C130.73 23.3 130.874 22.964 130.874 22.544H134.348C134.348 23.696 133.91 24.596 133.034 25.244C132.158 25.892 130.88 26.216 129.2 26.216C127.436 26.216 126.068 25.808 125.096 24.992C124.124 24.164 123.638 22.916 123.638 21.248C123.638 19.616 124.112 18.38 125.06 17.54C126.008 16.7 127.316 16.28 128.984 16.28ZM129.128 18.566C128 18.566 127.37 19.1 127.238 20.168H130.73C130.73 19.676 130.586 19.286 130.298 18.998C130.022 18.71 129.632 18.566 129.128 18.566ZM141.854 16.262C142.13 16.262 142.376 16.298 142.592 16.37C142.808 16.43 142.916 16.466 142.916 16.478V19.484H141.764C141.02 19.484 140.48 19.676 140.144 20.06C139.82 20.444 139.658 21.014 139.658 21.77V26H136.076V16.496H139.01L139.244 17.936C139.46 17.384 139.802 16.97 140.27 16.694C140.738 16.406 141.266 16.262 141.854 16.262ZM144.2 15.38V12.95H147.782V15.38H144.2ZM144.2 26V16.496H147.782V26H144.2ZM154.586 16.28C155.858 16.28 156.932 16.532 157.808 17.036C158.696 17.528 159.14 18.296 159.14 19.34H155.81C155.81 18.992 155.654 18.746 155.342 18.602C155.126 18.482 154.856 18.422 154.532 18.422C153.668 18.422 153.236 18.626 153.236 19.034C153.236 19.262 153.386 19.424 153.686 19.52C153.986 19.616 154.478 19.718 155.162 19.826C156.002 19.946 156.704 20.09 157.268 20.258C157.832 20.414 158.324 20.702 158.744 21.122C159.164 21.53 159.374 22.106 159.374 22.85C159.374 24.062 158.918 24.926 158.006 25.442C157.106 25.958 155.924 26.216 154.46 26.216C153.62 26.216 152.828 26.102 152.084 25.874C151.34 25.634 150.734 25.268 150.266 24.776C149.798 24.284 149.564 23.66 149.564 22.904H152.894V22.976C152.906 23.384 153.074 23.672 153.398 23.84C153.734 23.996 154.088 24.074 154.46 24.074C155.456 24.074 155.954 23.84 155.954 23.372C155.954 23.132 155.798 22.958 155.486 22.85C155.174 22.742 154.664 22.628 153.956 22.508C153.104 22.364 152.402 22.208 151.85 22.04C151.31 21.872 150.836 21.59 150.428 21.194C150.02 20.786 149.816 20.222 149.816 19.502C149.816 18.338 150.254 17.51 151.13 17.018C152.018 16.526 153.17 16.28 154.586 16.28Z"
          fill="white"
        />
      </svg>
    </div>
    <ul class="flex gap-10 ms-auto my-auto text-secondary">
      <li>
        <router-link to="/">Home</router-link>
      </li>
      <li>
        <router-link to="/products">Collectables</router-link>
      </li>
      <li>
        <router-link to="/about">About</router-link>
      </li>
      <li>
        <router-link to="/contact">Contact</router-link>
      </li>

      <li v-show="userRole === 'Admin'">
        <router-link to="/admin">Admin</router-link>
      </li>
      <li>
        <button v-show="userRole" @click="logout">Log Out</button>
      </li>
    </ul>
    <div v-show="userRole" class="cart py-auto ms-6 pt-2">
      <router-link to="/profile"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M28.8648 26.5C26.9611 23.2087 24.0273 20.8487 20.6036 19.73C22.2971 18.7218 23.6129 17.1856 24.3489 15.3572C25.0848 13.5289 25.2002 11.5095 24.6774 9.60918C24.1546 7.70887 23.0224 6.03272 21.4548 4.83814C19.8872 3.64355 17.9708 2.99658 15.9999 2.99658C14.0289 2.99658 12.1125 3.64355 10.5449 4.83814C8.97725 6.03272 7.84509 7.70887 7.32228 9.60918C6.79946 11.5095 6.91489 13.5289 7.65083 15.3572C8.38678 17.1856 9.70256 18.7218 11.3961 19.73C7.97235 20.8475 5.0386 23.2075 3.13485 26.5C3.06504 26.6138 3.01873 26.7405 2.99866 26.8725C2.97859 27.0045 2.98517 27.1392 3.01801 27.2687C3.05084 27.3981 3.10927 27.5197 3.18984 27.6262C3.27041 27.7326 3.3715 27.8219 3.48713 27.8887C3.60277 27.9555 3.73061 27.9985 3.86311 28.015C3.99561 28.0316 4.1301 28.0215 4.25863 27.9853C4.38716 27.949 4.50713 27.8874 4.61146 27.8041C4.71579 27.7207 4.80238 27.6173 4.8661 27.5C7.2211 23.43 11.3836 21 15.9999 21C20.6161 21 24.7786 23.43 27.1336 27.5C27.1973 27.6173 27.2839 27.7207 27.3882 27.8041C27.4926 27.8874 27.6125 27.949 27.7411 27.9853C27.8696 28.0215 28.0041 28.0316 28.1366 28.015C28.2691 27.9985 28.3969 27.9555 28.5126 27.8887C28.6282 27.8219 28.7293 27.7326 28.8099 27.6262C28.8904 27.5197 28.9489 27.3981 28.9817 27.2687C29.0145 27.1392 29.0211 27.0045 29.001 26.8725C28.981 26.7405 28.9347 26.6138 28.8648 26.5ZM8.99985 12C8.99985 10.6155 9.41039 9.26214 10.1796 8.11099C10.9487 6.95985 12.042 6.06264 13.3211 5.53283C14.6001 5.00301 16.0076 4.86439 17.3655 5.13449C18.7234 5.40458 19.9706 6.07127 20.9496 7.05023C21.9286 8.0292 22.5953 9.27648 22.8653 10.6344C23.1354 11.9922 22.9968 13.3997 22.467 14.6788C21.9372 15.9578 21.04 17.0511 19.8888 17.8203C18.7377 18.5894 17.3843 19 15.9999 19C14.1439 18.998 12.3646 18.2599 11.0523 16.9475C9.73997 15.6352 9.00184 13.8559 8.99985 12Z"
            fill="#F6EA00"
          /></svg
      ></router-link>
    </div>
    <div class="cart py-auto ms-6 pt-2" v-show="userRole">
      <router-link to="/cart">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M27.7675 7.35875C27.6736 7.24642 27.5562 7.15607 27.4236 7.09408C27.291 7.03209 27.1464 6.99998 27 7H6.835L6.22375 3.6425C6.14003 3.18167 5.89723 2.76484 5.53767 2.46468C5.17812 2.16452 4.72462 2.00007 4.25625 2H2C1.73478 2 1.48043 2.10536 1.29289 2.29289C1.10536 2.48043 1 2.73478 1 3C1 3.26522 1.10536 3.51957 1.29289 3.70711C1.48043 3.89464 1.73478 4 2 4H4.25L7.445 21.5362C7.53911 22.0563 7.76895 22.5423 8.11125 22.945C7.63881 23.3863 7.29781 23.9498 7.12607 24.573C6.95433 25.1962 6.95856 25.8549 7.13829 26.4759C7.31801 27.0968 7.66622 27.6559 8.14428 28.0911C8.62235 28.5263 9.2116 28.8205 9.8467 28.9412C10.4818 29.062 11.1379 29.0044 11.7423 28.775C12.3467 28.5456 12.8758 28.1533 13.2708 27.6416C13.6658 27.1299 13.9114 26.5187 13.9804 25.8759C14.0493 25.2332 13.9388 24.5838 13.6613 24H19.3388C19.115 24.4684 18.9993 24.981 19 25.5C19 26.1922 19.2053 26.8689 19.5899 27.4445C19.9744 28.0201 20.5211 28.4687 21.1606 28.7336C21.8001 28.9985 22.5039 29.0678 23.1828 28.9327C23.8617 28.7977 24.4854 28.4644 24.9749 27.9749C25.4644 27.4854 25.7977 26.8617 25.9327 26.1828C26.0678 25.5039 25.9985 24.8001 25.7336 24.1606C25.4687 23.5211 25.0201 22.9744 24.4445 22.5899C23.8689 22.2053 23.1922 22 22.5 22H10.3962C10.1621 22 9.93532 21.9177 9.75554 21.7677C9.57576 21.6176 9.45436 21.4092 9.4125 21.1787L9.01625 19H23.5163C24.2188 18.9999 24.8991 18.7532 25.4384 18.303C25.9777 17.8527 26.3419 17.2275 26.4675 16.5362L27.9875 8.17875C28.0132 8.0343 28.0069 7.88596 27.9688 7.74424C27.9308 7.60253 27.8621 7.47092 27.7675 7.35875ZM12 25.5C12 25.7967 11.912 26.0867 11.7472 26.3334C11.5824 26.58 11.3481 26.7723 11.074 26.8858C10.7999 26.9993 10.4983 27.0291 10.2074 26.9712C9.91639 26.9133 9.64912 26.7704 9.43934 26.5607C9.22956 26.3509 9.0867 26.0836 9.02882 25.7926C8.97094 25.5017 9.00065 25.2001 9.11418 24.926C9.22771 24.6519 9.41997 24.4176 9.66665 24.2528C9.91332 24.088 10.2033 24 10.5 24C10.8978 24 11.2794 24.158 11.5607 24.4393C11.842 24.7206 12 25.1022 12 25.5ZM24 25.5C24 25.7967 23.912 26.0867 23.7472 26.3334C23.5824 26.58 23.3481 26.7723 23.074 26.8858C22.7999 26.9993 22.4983 27.0291 22.2074 26.9712C21.9164 26.9133 21.6491 26.7704 21.4393 26.5607C21.2296 26.3509 21.0867 26.0836 21.0288 25.7926C20.9709 25.5017 21.0007 25.2001 21.1142 24.926C21.2277 24.6519 21.42 24.4176 21.6666 24.2528C21.9133 24.088 22.2033 24 22.5 24C22.8978 24 23.2794 24.158 23.5607 24.4393C23.842 24.7206 24 25.1022 24 25.5ZM24.5 16.1787C24.458 16.4098 24.3361 16.6187 24.1555 16.7689C23.975 16.919 23.7473 17.0008 23.5125 17H8.6525L7.19875 9H25.8013L24.5 16.1787Z"
            fill="#F6EA00"
          />
        </svg>
      </router-link>
    </div>
  </nav>
</template>

<script>
export default {
  computed: {
    user() {
      this.$store.state.userData;
    },
    userData() {
      return this.$store.state.userData;
    },
    userRole() {
      return this.$store.state.userRole;
    },
  },
  methods: {
    logout() {
      this.$store.dispatch("logout");
      this.$router.push("/login");
    },
  },
};
</script>

<style scoped>
nav a {
  font-weight: bold;
}

nav a.router-link-exact-active {
  color: #f6ea00;
}
li > * {
  transition: 1ms;
}

li > *:hover {
  border-bottom: 2px solid #f6ea00;
}

.cart:hover {
  width: 34px;
  height: 34px;
  transition: 0.2s;
}
</style>
